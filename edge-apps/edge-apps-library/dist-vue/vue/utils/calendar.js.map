{"version":3,"file":"calendar.js","sources":["../../../src/vue/utils/calendar.ts"],"sourcesContent":["import type { CalendarDay } from '../constants/calendar'\nimport { getLocale } from '../../utils/locale.js'\n\nexport const getFormattedTime = async (\n  date: Date = new Date(),\n  locale: string | null = null,\n  timezone?: string,\n): Promise<string> => {\n  const resolvedLocale = locale || (await getLocale())\n  const intlLocale = new Intl.Locale(resolvedLocale)\n  let hourFormat: 'numeric' | '2-digit' = 'numeric'\n\n  if (intlLocale.hourCycle) {\n    if (intlLocale.hourCycle === 'h12') {\n      hourFormat = 'numeric'\n    } else {\n      hourFormat = '2-digit'\n    }\n  }\n\n  return date.toLocaleTimeString(resolvedLocale, {\n    hour: hourFormat,\n    minute: '2-digit',\n    timeZone: timezone || 'UTC',\n  })\n}\n\nexport const getDaysInMonth = (year: number, month: number): number => {\n  return new Date(year, month + 1, 0).getDate()\n}\n\nexport const getFirstDayOfMonth = (year: number, month: number): number => {\n  return new Date(year, month, 1).getDay()\n}\n\nexport const generateCalendarDays = (\n  year: number,\n  month: number,\n): CalendarDay[] => {\n  const daysInMonth = getDaysInMonth(year, month)\n  const firstDay = getFirstDayOfMonth(year, month)\n  const daysInPrevMonth = getDaysInMonth(year, month - 1)\n  const days: CalendarDay[] = []\n\n  // Previous month's days\n  for (let i = firstDay - 1; i >= 0; i--) {\n    days.push({\n      day: daysInPrevMonth - i,\n      isCurrentMonth: false,\n    })\n  }\n\n  // Current month's days\n  for (let i = 1; i <= daysInMonth; i++) {\n    days.push({\n      day: i,\n      isCurrentMonth: true,\n    })\n  }\n\n  // Calculate remaining days needed to complete the last row\n  const totalDaysSoFar = days.length\n  const remainingDaysInLastRow = 7 - (totalDaysSoFar % 7)\n  const needsExtraRow = remainingDaysInLastRow < 7\n\n  // Add next month's days only for the last row if needed\n  for (let i = 1; i <= (needsExtraRow ? remainingDaysInLastRow : 0); i++) {\n    days.push({\n      day: i,\n      isCurrentMonth: false,\n    })\n  }\n\n  return days\n}\n\nexport const getFormattedMonthName = (date: Date, locale = 'en-US'): string => {\n  return date.toLocaleDateString(locale, { month: 'long' })\n}\n\nexport const getYear = (date: Date): number => date.getFullYear()\nexport const getMonth = (date: Date): number => date.getMonth()\nexport const getDate = (date: Date): number => date.getDate()\n\nexport const getFormattedDayOfWeek = (date: Date, locale = 'en-US'): string => {\n  return date.toLocaleDateString(locale, { weekday: 'long' }).toUpperCase()\n}\n"],"names":["getFormattedTime","date","locale","timezone","resolvedLocale","getLocale","intlLocale","hourFormat","getDaysInMonth","year","month","getFirstDayOfMonth","generateCalendarDays","daysInMonth","firstDay","daysInPrevMonth","days","i","remainingDaysInLastRow","needsExtraRow","getFormattedMonthName","getYear","getMonth","getDate","getFormattedDayOfWeek"],"mappings":";AAGO,MAAMA,IAAmB,OAC9BC,IAAa,oBAAI,QACjBC,IAAwB,MACxBC,MACoB;AACpB,QAAMC,IAAiBF,KAAW,MAAMG,EAAA,GAClCC,IAAa,IAAI,KAAK,OAAOF,CAAc;AACjD,MAAIG,IAAoC;AAExC,SAAID,EAAW,cACTA,EAAW,cAAc,QAC3BC,IAAa,YAEbA,IAAa,YAIVN,EAAK,mBAAmBG,GAAgB;AAAA,IAC7C,MAAMG;AAAA,IACN,QAAQ;AAAA,IACR,UAAUJ,KAAY;AAAA,EAAA,CACvB;AACH,GAEaK,IAAiB,CAACC,GAAcC,MACpC,IAAI,KAAKD,GAAMC,IAAQ,GAAG,CAAC,EAAE,QAAA,GAGzBC,IAAqB,CAACF,GAAcC,MACxC,IAAI,KAAKD,GAAMC,GAAO,CAAC,EAAE,OAAA,GAGrBE,IAAuB,CAClCH,GACAC,MACkB;AAClB,QAAMG,IAAcL,EAAeC,GAAMC,CAAK,GACxCI,IAAWH,EAAmBF,GAAMC,CAAK,GACzCK,IAAkBP,EAAeC,GAAMC,IAAQ,CAAC,GAChDM,IAAsB,CAAA;AAG5B,WAASC,IAAIH,IAAW,GAAGG,KAAK,GAAGA;AACjC,IAAAD,EAAK,KAAK;AAAA,MACR,KAAKD,IAAkBE;AAAA,MACvB,gBAAgB;AAAA,IAAA,CACjB;AAIH,WAASA,IAAI,GAAGA,KAAKJ,GAAaI;AAChC,IAAAD,EAAK,KAAK;AAAA,MACR,KAAKC;AAAA,MACL,gBAAgB;AAAA,IAAA,CACjB;AAKH,QAAMC,IAAyB,IADRF,EAAK,SACyB,GAC/CG,IAAgBD,IAAyB;AAG/C,WAASD,IAAI,GAAGA,MAAME,IAAgBD,IAAyB,IAAID;AACjE,IAAAD,EAAK,KAAK;AAAA,MACR,KAAKC;AAAA,MACL,gBAAgB;AAAA,IAAA,CACjB;AAGH,SAAOD;AACT,GAEaI,IAAwB,CAACnB,GAAYC,IAAS,YAClDD,EAAK,mBAAmBC,GAAQ,EAAE,OAAO,QAAQ,GAG7CmB,IAAU,CAACpB,MAAuBA,EAAK,YAAA,GACvCqB,IAAW,CAACrB,MAAuBA,EAAK,SAAA,GACxCsB,IAAU,CAACtB,MAAuBA,EAAK,QAAA,GAEvCuB,IAAwB,CAACvB,GAAYC,IAAS,YAClDD,EAAK,mBAAmBC,GAAQ,EAAE,SAAS,OAAA,CAAQ,EAAE,YAAA;"}