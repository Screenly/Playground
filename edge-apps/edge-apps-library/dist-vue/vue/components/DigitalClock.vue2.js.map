{"version":3,"file":"DigitalClock.vue2.js","sources":["../../../src/vue/components/DigitalClock.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, onMounted, onUnmounted, watch } from 'vue'\n\ninterface Props {\n  timezone?: string\n  locale?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  timezone: 'UTC',\n  locale: 'en',\n})\n\nconst formattedTime = ref('00:00')\nconst period = ref('AM')\nconst dayOfMonth = ref('00')\nconst dayOfWeek = ref('MON')\n\nlet timeTimer: ReturnType<typeof setInterval> | null = null\n\nconst updateTime = () => {\n  // Only update if timezone is available\n  if (!props.timezone) {\n    return\n  }\n\n  const now = new Date()\n  const timeInTimezone = new Date(\n    now.toLocaleString('en-US', { timeZone: props.timezone }),\n  )\n\n  const formattedLocale = props.locale.replace('_', '-')\n\n  // Time formatter options\n  const timeFormatterOptions = {\n    hour: '2-digit',\n    minute: '2-digit',\n  } as Intl.DateTimeFormatOptions\n\n  // Handle all formatting based on locale with exception handling\n  let timeFormatter: Intl.DateTimeFormat\n  try {\n    timeFormatter = new Intl.DateTimeFormat(\n      formattedLocale,\n      timeFormatterOptions,\n    )\n  } catch (error) {\n    // Fallback to default locale if the provided locale is invalid\n    console.warn(\n      `Invalid locale \"${formattedLocale}\" provided, falling back to \"en\"`,\n      error,\n    )\n    timeFormatter = new Intl.DateTimeFormat('en', timeFormatterOptions)\n  }\n\n  const formattedTimeString = timeFormatter.format(timeInTimezone)\n\n  // Split the formatted time to extract time and period\n  const timeParts = formattedTimeString.split(' ')\n  formattedTime.value = timeParts[0] || ''\n  period.value = timeParts[1] || ''\n\n  dayOfMonth.value = timeInTimezone.getDate().toString()\n  const days = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT']\n  dayOfWeek.value = days[timeInTimezone.getDay()] as string\n}\n\nwatch(\n  () => props.timezone,\n  (newTimezone) => {\n    if (newTimezone) {\n      updateTime()\n    }\n  },\n  { immediate: true },\n)\n\nonMounted(() => {\n  updateTime()\n  timeTimer = setInterval(updateTime, 1000)\n})\n\nonUnmounted(() => {\n  if (timeTimer) {\n    clearInterval(timeTimer)\n  }\n})\n</script>\n\n<template>\n  <div class=\"secondary-card-number-container\">\n    <span class=\"secondary-card-number\">{{ formattedTime }}</span>\n    <span v-if=\"period\" class=\"secondary-card-time-am-pm\">{{ period }}</span>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.secondary-card-number-container {\n  display: flex;\n  flex-direction: row;\n  gap: 3rem;\n  align-items: baseline;\n\n  .secondary-card-number {\n    font-size: 14.5rem;\n    color: var(--theme-color-primary);\n    letter-spacing: 1rem;\n    font-variant-numeric: tabular-nums;\n    font-feature-settings: 'tnum';\n  }\n\n  .secondary-card-time-am-pm {\n    font-size: 4rem;\n    color: var(--theme-color-secondary);\n  }\n\n  @media screen and (min-width: 480px) and (orientation: portrait) {\n    gap: 1rem;\n\n    .secondary-card-number {\n      font-size: 8rem;\n      letter-spacing: 0.5rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 2.5rem;\n    }\n  }\n\n  @media screen and (min-width: 720px) and (orientation: portrait) {\n    gap: 1rem;\n\n    .secondary-card-number {\n      font-size: 11rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 3rem;\n    }\n  }\n\n  @media screen and (min-width: 800px) and (orientation: landscape) {\n    gap: 1rem;\n\n    .secondary-card-number {\n      font-size: 6rem;\n      letter-spacing: 0.5rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 2em;\n    }\n  }\n\n  @media screen and (min-width: 1080px) and (orientation: portrait) {\n    gap: 1rem;\n\n    .secondary-card-number {\n      font-size: 17rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 4rem;\n    }\n  }\n\n  @media screen and (min-width: 1280px) and (orientation: landscape) {\n    gap: 1rem;\n\n    .secondary-card-number {\n      font-size: 10rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 3rem;\n    }\n  }\n\n  @media screen and (min-width: 1920px) and (orientation: landscape) {\n    gap: 1rem;\n\n    .secondary-card-number {\n      font-size: 16rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 4.5rem;\n    }\n  }\n\n  @media screen and (min-width: 2160px) and (orientation: portrait) {\n    .secondary-card-number {\n      font-size: 40rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 9rem;\n    }\n  }\n\n  @media screen and (min-width: 3840px) and (orientation: landscape) {\n    .secondary-card-number {\n      font-size: 36rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 10rem;\n    }\n  }\n\n  @media screen and (min-width: 4096px) and (orientation: landscape) {\n    .secondary-card-number {\n      font-size: 39rem;\n    }\n\n    .secondary-card-time-am-pm {\n      font-size: 11rem;\n    }\n  }\n}\n</style>\n"],"names":["props","__props","formattedTime","ref","period","dayOfMonth","dayOfWeek","timeTimer","updateTime","now","timeInTimezone","formattedLocale","timeFormatterOptions","timeFormatter","error","timeParts","days","watch","newTimezone","onMounted","onUnmounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_hoisted_3"],"mappings":";;;;;;;;;;;AAQA,UAAMA,IAAQC,GAKRC,IAAgBC,EAAI,OAAO,GAC3BC,IAASD,EAAI,IAAI,GACjBE,IAAaF,EAAI,IAAI,GACrBG,IAAYH,EAAI,KAAK;AAE3B,QAAII,IAAmD;AAEvD,UAAMC,IAAa,MAAM;AAEvB,UAAI,CAACR,EAAM;AACT;AAGF,YAAMS,wBAAU,KAAA,GACVC,IAAiB,IAAI;AAAA,QACzBD,EAAI,eAAe,SAAS,EAAE,UAAUT,EAAM,UAAU;AAAA,MAAA,GAGpDW,IAAkBX,EAAM,OAAO,QAAQ,KAAK,GAAG,GAG/CY,IAAuB;AAAA,QAC3B,MAAM;AAAA,QACN,QAAQ;AAAA,MAAA;AAIV,UAAIC;AACJ,UAAI;AACF,QAAAA,IAAgB,IAAI,KAAK;AAAA,UACvBF;AAAA,UACAC;AAAA,QAAA;AAAA,MAEJ,SAASE,GAAO;AAEd,gBAAQ;AAAA,UACN,mBAAmBH,CAAe;AAAA,UAClCG;AAAA,QAAA,GAEFD,IAAgB,IAAI,KAAK,eAAe,MAAMD,CAAoB;AAAA,MACpE;AAKA,YAAMG,IAHsBF,EAAc,OAAOH,CAAc,EAGzB,MAAM,GAAG;AAC/C,MAAAR,EAAc,QAAQa,EAAU,CAAC,KAAK,IACtCX,EAAO,QAAQW,EAAU,CAAC,KAAK,IAE/BV,EAAW,QAAQK,EAAe,QAAA,EAAU,SAAA;AAC5C,YAAMM,IAAO,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,KAAK;AAC7D,MAAAV,EAAU,QAAQU,EAAKN,EAAe,OAAA,CAAQ;AAAA,IAChD;AAEA,WAAAO;AAAA,MACE,MAAMjB,EAAM;AAAA,MACZ,CAACkB,MAAgB;AACf,QAAIA,KACFV,EAAA;AAAA,MAEJ;AAAA,MACA,EAAE,WAAW,GAAA;AAAA,IAAK,GAGpBW,EAAU,MAAM;AACd,MAAAX,EAAA,GACAD,IAAY,YAAYC,GAAY,GAAI;AAAA,IAC1C,CAAC,GAEDY,EAAY,MAAM;AAChB,MAAIb,KACF,cAAcA,CAAS;AAAA,IAE3B,CAAC,cAICc,EAAA,GAAAC,EAGM,OAHNC,GAGM;AAAA,MAFJC,EAA8D,QAA9DC,GAA8DC,EAAvBxB,EAAA,KAAa,GAAA,CAAA;AAAA,MACxCE,EAAA,cAAZkB,EAAyE,QAAzEK,GAAyED,EAAhBtB,EAAA,KAAM,GAAA,CAAA;;;;"}