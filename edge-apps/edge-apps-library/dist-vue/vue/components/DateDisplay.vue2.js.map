{"version":3,"file":"DateDisplay.vue2.js","sources":["../../../src/vue/components/DateDisplay.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, onMounted, onUnmounted, watch } from 'vue'\n\ninterface Props {\n  timezone?: string\n  locale?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  timezone: 'UTC',\n  locale: 'en',\n})\n\nconst dayOfMonth = ref('00')\nconst dayOfWeek = ref('MON')\n\nlet dateTimer: ReturnType<typeof setInterval> | null = null\n\nconst updateDate = () => {\n  if (!props.timezone) {\n    return\n  }\n\n  const now = new Date()\n  const formattedLocale =\n    typeof props.locale === 'string' ? props.locale.replace('_', '-') : 'en'\n\n  try {\n    // Format day of week using the locale\n    dayOfWeek.value = now\n      .toLocaleString(formattedLocale, {\n        timeZone: props.timezone,\n        weekday: 'short',\n      })\n      .toUpperCase()\n      .slice(0, 3)\n\n    // Format day of month\n    const dayStr = now.toLocaleString(formattedLocale, {\n      timeZone: props.timezone,\n      day: 'numeric',\n    })\n    dayOfMonth.value = dayStr.padStart(2, '0')\n  } catch (error) {\n    console.warn(\n      `Invalid timezone or locale: ${props.timezone}, ${formattedLocale}, using fallback`,\n      error,\n    )\n    // Fallback to English and UTC\n    dayOfWeek.value = now\n      .toLocaleString('en', {\n        timeZone: 'UTC',\n        weekday: 'short',\n      })\n      .toUpperCase()\n      .slice(0, 3)\n\n    const fallbackDayStr = now.toLocaleString('en', {\n      timeZone: 'UTC',\n      day: 'numeric',\n    })\n    dayOfMonth.value = fallbackDayStr.padStart(2, '0')\n  }\n}\n\nonMounted(() => {\n  updateDate()\n  dateTimer = setInterval(updateDate, 1000)\n})\n\nonUnmounted(() => {\n  if (dateTimer) {\n    clearInterval(dateTimer)\n  }\n})\n\nwatch(\n  () => [props.timezone, props.locale],\n  () => {\n    updateDate()\n  },\n)\n</script>\n\n<template>\n  <div class=\"date-card\">\n    <span class=\"date-text\">{{ dayOfWeek }}</span>\n    <span class=\"date-number\">{{ dayOfMonth }}</span>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.date-card {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 0.25rem;\n  width: 100%;\n  height: 100%;\n\n  .date-text {\n    font-size: 5rem;\n    color: var(--theme-color-secondary);\n  }\n\n  .date-number {\n    line-height: 1;\n    font-size: 10rem;\n    color: var(--theme-color-primary);\n  }\n\n  @media screen and (min-width: 480px) and (orientation: portrait) {\n    .date-text {\n      font-size: 3.5rem;\n    }\n\n    .date-number {\n      font-size: 7rem;\n    }\n  }\n\n  @media screen and (min-width: 720px) and (orientation: portrait) {\n    .date-text {\n      font-size: 6rem;\n    }\n\n    .date-number {\n      font-size: 10rem;\n    }\n  }\n\n  @media screen and (min-width: 800px) and (orientation: landscape) {\n    .date-text {\n      font-size: 3.4rem;\n    }\n\n    .date-number {\n      font-size: 7rem;\n    }\n  }\n\n  @media screen and (min-width: 1080px) and (orientation: portrait) {\n    .date-text {\n      font-size: 10rem;\n    }\n\n    .date-number {\n      font-size: 16rem;\n    }\n  }\n\n  @media screen and (min-width: 1280px) and (orientation: landscape) {\n    .date-text {\n      font-size: 5.5rem;\n    }\n\n    .date-number {\n      font-size: 13rem;\n    }\n  }\n\n  @media screen and (min-width: 1920px) and (orientation: landscape) {\n    .date-text {\n      font-size: 7rem;\n    }\n\n    .date-number {\n      font-size: 18rem;\n    }\n  }\n\n  @media screen and (min-width: 2160px) and (orientation: portrait) {\n    .date-text {\n      font-size: 17rem;\n    }\n\n    .date-number {\n      font-size: 34rem;\n    }\n  }\n\n  @media screen and (min-width: 3840px) and (orientation: landscape) {\n    .date-text {\n      font-size: 17rem;\n    }\n\n    .date-number {\n      font-size: 34rem;\n    }\n  }\n\n  @media screen and (min-width: 4096px) and (orientation: landscape) {\n    .date-text {\n      font-size: 17rem;\n    }\n\n    .date-number {\n      font-size: 34rem;\n    }\n  }\n}\n</style>\n"],"names":["props","__props","dayOfMonth","ref","dayOfWeek","dateTimer","updateDate","now","formattedLocale","dayStr","error","fallbackDayStr","onMounted","onUnmounted","watch","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","_hoisted_3"],"mappings":";;;;;;;;AAQA,UAAMA,IAAQC,GAKRC,IAAaC,EAAI,IAAI,GACrBC,IAAYD,EAAI,KAAK;AAE3B,QAAIE,IAAmD;AAEvD,UAAMC,IAAa,MAAM;AACvB,UAAI,CAACN,EAAM;AACT;AAGF,YAAMO,wBAAU,KAAA,GACVC,IACJ,OAAOR,EAAM,UAAW,WAAWA,EAAM,OAAO,QAAQ,KAAK,GAAG,IAAI;AAEtE,UAAI;AAEF,QAAAI,EAAU,QAAQG,EACf,eAAeC,GAAiB;AAAA,UAC/B,UAAUR,EAAM;AAAA,UAChB,SAAS;AAAA,QAAA,CACV,EACA,YAAA,EACA,MAAM,GAAG,CAAC;AAGb,cAAMS,IAASF,EAAI,eAAeC,GAAiB;AAAA,UACjD,UAAUR,EAAM;AAAA,UAChB,KAAK;AAAA,QAAA,CACN;AACD,QAAAE,EAAW,QAAQO,EAAO,SAAS,GAAG,GAAG;AAAA,MAC3C,SAASC,GAAO;AACd,gBAAQ;AAAA,UACN,+BAA+BV,EAAM,QAAQ,KAAKQ,CAAe;AAAA,UACjEE;AAAA,QAAA,GAGFN,EAAU,QAAQG,EACf,eAAe,MAAM;AAAA,UACpB,UAAU;AAAA,UACV,SAAS;AAAA,QAAA,CACV,EACA,YAAA,EACA,MAAM,GAAG,CAAC;AAEb,cAAMI,IAAiBJ,EAAI,eAAe,MAAM;AAAA,UAC9C,UAAU;AAAA,UACV,KAAK;AAAA,QAAA,CACN;AACD,QAAAL,EAAW,QAAQS,EAAe,SAAS,GAAG,GAAG;AAAA,MACnD;AAAA,IACF;AAEA,WAAAC,EAAU,MAAM;AACd,MAAAN,EAAA,GACAD,IAAY,YAAYC,GAAY,GAAI;AAAA,IAC1C,CAAC,GAEDO,EAAY,MAAM;AAChB,MAAIR,KACF,cAAcA,CAAS;AAAA,IAE3B,CAAC,GAEDS;AAAA,MACE,MAAM,CAACd,EAAM,UAAUA,EAAM,MAAM;AAAA,MACnC,MAAM;AACJ,QAAAM,EAAA;AAAA,MACF;AAAA,IAAA,cAKAS,EAAA,GAAAC,EAGM,OAHNC,GAGM;AAAA,MAFJC,EAA8C,QAA9CC,GAA8CC,EAAnBhB,EAAA,KAAS,GAAA,CAAA;AAAA,MACpCc,EAAiD,QAAjDG,GAAiDD,EAApBlB,EAAA,KAAU,GAAA,CAAA;AAAA,IAAA;;;"}