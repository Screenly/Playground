<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Instagram Images</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <style>
            * {
                box-sizing: border-box;
            }
            
            body {
                position: relative;
                width: 800px;
                height: 480px;
                background: #F8F8FA;
            }
            
            .frames {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                padding: 0px;
                position: absolute;
                width: 219px;  
                height: 192px;
                background: #FFFFFF;
                box-shadow: 0px 4.93415px 21.1464px rgba(130, 130, 130, 0.25);
                border-radius: 17.622px;
            }
            
            #frame0 {
                    left: 178px;
                    top: 46px;
                }
            #frame1 {
                left: 402px;
                top: 46px;
            }
            
            #frame2 {
                left: 178px;
                top: 242px;
            }
            
            #frame3 {
                left: 402px;
                top: 242px;
            }
            
            .instagram-post {
                width: 219px;
                height: 140px;
                border-radius: 25px 25px 0px 0px;
                flex: none;
                order: 0;
                align-self: stretch;
                flex-grow: 1;
            }
            
            .caption {
                width: 219px;
                height: 9px;
                font-family: 'Inter';
                font-style: normal;
                font-weight: 400;
                font-size: 14px;
                line-height: 14px;
                color: #171717;
                padding: 5px;
                flex: none;
                order: 1;
                flex-grow: 1;
            }
            
            @media screen and (min-width:1280px) and (orientation:landscape) {
                body {
                    position: relative;
                    width: 1280px;
                    height: 720px;
                    background: #FFFFFF;
                }
                
                .frames {
                    width: 392px;
                    height: 290px;
                }
                
                #frame0 {
                    left: 237px;
                    top: 55px;
                }
                #frame1 {
                    left: 650.15px;
                    top: 55px;
                }
                
                #frame2 {
                    left: 237px;
                    top: 375px;
                }
                
                #frame3 {
                    left: 650.15px;
                    top: 375px;
                }
                
                .instagram-post {
                    width: 392px;
                    height: 242.77px;
                }
                
                .caption {
                    width: 392px;
                    height: 17px;
                    font-size: 14px;
                    line-height: 17px;
                }
            }
            
            @media screen and (min-width:1920px) and (orientation:landscape) {
                body {
                    position: relative;
                    width: 1920px;
                    height: 1080px;
                    background: #FFFFFF;
                }
                
                .frames {
                    width: 821px;
                    height: 411px;
                }
                
                #frame0 {
                    left: 124px;
                    top: 114px;
                }
                #frame1 {
                    left: 975px;
                    top: 114px;
                }
                
                #frame2 {
                    left: 124px;
                    top: 555px;
                }
                
                #frame3 {
                    left: 975px;
                    top: 555px;
                }
                
                .instagram-post {
                    width: 821px;
                    height: 344px;
                }
                
                .caption {
                    width: 821px;
                    height: 24px;
                    font-size: 20px;
                    line-height: 24px;
                }
            }
            
            @media screen and (min-width:3840px) and (orientation:landscape) {
                body {
                    position: relative;
                    width: 3840px;
                    height: 2160px;
                    background: #FFFFFF;
                }
                
                .frames {
                    width: 1695px;
                    height: 843px;
                }
                
                #frame0 {
                    left: 191px;
                    top: 203px;
                }
                #frame1 {
                    left: 1946px;
                    top: 203px;
                }
                
                #frame2 {
                    left: 191px;
                    top: 1106px;
                }
                
                #frame3 {
                    left: 1950px;
                    top: 1106px;
                }
                
                .instagram-post {
                    width: 1695px;
                    height: 776px;
                }
                
                .caption {
                    width: 1695px;
                    height: 36px;
                    font-size: 30px;
                    line-height: 36px;
                }
            }
            
            @media screen and (min-width:4096px) and (orientation:landscape) {
                body {
                    position: relative;
                    width: 4096px;
                    height: 2160px;
                    background: #FFFFFF;
                }
                
                .frames {
                    width: 1695px;
                    height: 843px;
                }
                
                #frame0 {
                    left: 319px;
                    top: 203px;
                }
                #frame1 {
                    left: 2074px;
                    top: 203px;
                }
                
                #frame2 {
                    left: 319px;
                    top: 1106px;
                }
                
                #frame3 {
                    left: 2078px;
                    top: 1106px;
                }
                
                .instagram-post {
                    width: 1695px;
                    height: 776px;
                }
                
                .caption {
                    width: 1122px;
                    height: 36px;
                    font-size: 30px;
                    line-height: 36px;
                }
            }
            
            @media screen and (orientation:portrait) {
                body {
                    position: relative;
                    width: 480px;
                    height: 800px;
                    background: #F8F8FA;
                }
            
                .frames {
                    display: flex;
                    flex-direction: column;
                    align-items: flex-start;
                    padding: 0px;
                    position: static;
                    margin: auto;
                    width: 440px;
                    height: 411px;
                    background: #FFFFFF;
                    box-shadow: 0px 4.93415px 21.1464px rgba(130, 130, 130, 0.25);
                    border-radius: 17.622px;
                }
            
                .instagram-post {
                    width: 440px;
                    height: 344px;
                    border-radius: 25px 25px 0px 0px;
                    flex: none;
                    order: 0;
                    flex-grow: 1;
                }
            
                .caption {
                    width: 303px;
                    height: 19px;
                    font-family: 'Inter';
                    font-style: normal;
                    font-weight: 400;
                    font-size: 16px;
                    line-height: 19px;
                    padding: 5px;
                    color: #171717;
                    flex: none;
                    order: 1;
                    flex-grow: 1;
                }
            }
            
            @media screen and (min-width:720px) and (orientation:portrait) {
                body {
                    position: relative;
                    width: 720px;
                    height: 1280px;
                    background: #FFFFFF;
                }
                
                .frames {
                    position: absolute;
                    width: 489px;
                    height: 289px;
                    
                }
                
                #frame0 {
                    left: 114px;
                    top: 31px;
                }
                #frame1 {
                    left: 114px;
                    top: 344px;
                }
                
                #frame2 {
                    left: 114px;
                    top: 657px;
                }
                
                #frame3 {
                    left: 114px;
                    top: 970px;
                }
                
                .instagram-post {
                    width: 489px;
                    height: 238.77px;
                    align-self: stretch;
                }
                
                .caption {
                    width: 489px;
                    height: 19px;
                    font-size: 16px;
                    line-height: 19px;
                }
            }
            
            @media screen and (min-width:1080px) and (orientation:portrait) {
                body {
                    position: relative;
                    width: 1080px;
                    height: 1920px;
                    background: #FFFFFF;
                }
                
                .frames {
                    position: absolute;
                    width: 821px;
                    height: 411px;
                    
                }
                
                #frame0 {
                    left: 130px;
                    top: 103px;
                }
                #frame1 {
                    left: 130px;
                    top: 544px;
                }
                
                #frame2 {
                    left: 130px;
                    top: 985px;
                }
                
                #frame3 {
                    left: 130px;
                    top: 1426px;
                }
                
                .instagram-post {
                    width: 821px;
                    height: 344px;
                    align-self: stretch;
                }
                
                .caption {
                    width: 821px;
                    height: 24px;
                    font-size: 20px;
                    line-height: 24px;
                }
            }
            
            @media screen and (min-width:2160px) and (orientation:portrait) {
                body {
                    position: relative;
                    width: 2160px;
                    height: 3840px;
                    background: #FFFFFF;
                }
                
                .frames {
                    position: absolute;
                    width: 1695px;
                    height: 843px;
                }
                
                #frame0 {
                    left: 233px;
                    top: 144px;
                }
                #frame1 {
                    left: 233px;
                    top: 1047px;
                }
                
                #frame2 {
                    left: 233px;
                    top: 1950px;
                }
                
                #frame3 {
                    left: 233px;
                    top: 2853px;
                }
                
                .instagram-post {
                    width: 1695px;
                    height: 776px;
                    align-self: stretch;
                }
                
                .caption {
                    width: 1695px;
                    height: 36px;
                    font-size: 30px;
                    line-height: 36px;
                }
            }
            
            @media screen and (min-width:2160px) and (orientation:portrait) and (min-height: 4096px) {
                body {
                    position: relative;
                    width: 2160px;
                    height: 4096px;
                    background: #FFFFFF;
                }
                
                .frames {
                    position: absolute;
                    width: 1695px;
                    height: 843px;
                }
                
                #frame0 {
                    left: 233px;
                    top: 272px;
                }
                #frame1 {
                    left: 233px;
                    top: 1175px;
                }
                
                #frame2 {
                    left: 233px;
                    top: 2078px;
                }
                
                #frame3 {
                    left: 233px;
                    top: 2981px;
                }
                
                .instagram-post {
                    width: 1695px;
                    height: 776px;
                    align-self: stretch;
                }
                
                .caption {
                    width: 1695px;
                    height: 36px;
                    font-size: 30px;
                    line-height: 36px;
                }
            }        
            
        </style>
    </head>
    <body>
        <script>
            //Assign the Instagram Access token you generated to a variable.
            var token = '{token}';
        </script>

        <!--Create figures to contain the images and captions-->
    
        <figure id="frame0" class="frames">
            <img id="image-zero" class="instagram-post" src="images/default_post.svg" alt="Instagram Image">
            <figcaption class="caption" id="caption-zero"></figcaption>
        </figure>

        <figure id="frame1" class="frames">
            <img id="image-one" class="instagram-post" src="images/default_post.svg" alt="Instagram Image">
            <figcaption class="caption" id="caption-one"></figcaption>
        </figure>

        <figure id="frame2" class="frames">
            <img id="image-two" class="instagram-post" src="images/default_post.svg" alt="Instagram Image">
            <figcaption class="caption" id="caption-two"></figcaption>
        </figure>

        <figure id="frame3" class="frames">
            <img id="image-three" class="instagram-post" src="images/default_post.svg" alt="Instagram Image">
            <figcaption class="caption" id="caption-three"></figcaption>
        </figure>       

  
    </body>

    <script>
        //Function to fetch the images from Instagram
        function get_instagram_post() {
        
        //Send an API request to fetch the Images from Instagram
        const Http = new XMLHttpRequest();
        const url='https://graph.instagram.com/me/media?fields=username,caption,media_url&access_token=' + token;
        Http.open("GET", url, false);
        Http.send();
        var ig_media = JSON.parse(Http.responseText);
        
        //Get the Instagram Username from the API response
        const username = "<b>@" + ig_media.data[0].username + " </b>";

        //Get the latest four Instagram images and their media URL
        const image0 = ig_media.data[0].media_url;
        const caption0 = username + ig_media.data[0].caption;

        const image1 = ig_media.data[1].media_url;
        const caption1 = username + ig_media.data[1].caption;

        const image2 = ig_media.data[2].media_url;
        const caption2 = username + ig_media.data[2].caption;

        const image3 = ig_media.data[3].media_url;
        const caption3 = username + ig_media.data[3].caption;

        //Run DOM manipulation to set the mediaURLs as image sources and image captions
        function display_image_and_caption() {
            document.getElementById("image-zero").src = image0;
            document.getElementById("image-one").src = image1;
            document.getElementById("image-two").src = image2;
            document.getElementById("image-three").src = image3;

            document.getElementById("caption-zero").innerHTML = caption0;
            document.getElementById("caption-one").innerHTML = caption1;
            document.getElementById("caption-two").innerHTML = caption2;
            document.getElementById("caption-three").innerHTML = caption3;
          }
      
        display_image_and_caption();
        
    }

    setInterval (get_instagram_post, 300000);
      
    </script>
</html>
